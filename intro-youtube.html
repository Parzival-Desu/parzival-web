<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Video Portfolio ‚Äî Parzival Takei</title>
  <link rel="stylesheet" href="style.css" />
  <style>
/* ===== BASE STYLE ===== */
html, body { height: 100%; margin: 0; display: flex; flex-direction: column; font-family: "Poppins", sans-serif; }
main { flex: 1; }
footer { text-align: center; padding: 15px 0; background: linear-gradient(90deg,#fad0c4,#ffd1ff); color: #333; font-size: 14px; border-top: 1px solid rgba(0,0,0,0.1); }

/* ===== CONTENT ===== */
.video-container { max-width: 1000px; margin: 40px auto; padding: 0 20px; }
.video-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(400px,1fr)); gap: 30px; margin-top: 30px; }
.video-wrapper { background: rgba(255,255,255,0.65); padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: background .4s ease; }
.video-wrapper h3 { margin-bottom: 15px; color: #333; text-align: center; transition: color .4s ease; }
.video-player { width: 100%; border-radius: 10px; background: #000; }

.custom-video-controls { display: flex; align-items: center; gap: 10px; margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.8); border-radius: 8px; transition: background .4s ease; }
.play-pause-btn { background: linear-gradient(90deg,#ff9a9e,#fad0c4); border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-weight: 600; transition: transform .2s; color: #222; }
.play-pause-btn:hover { transform: scale(1.05); }
.time-display { font-size: .9rem; color: #333; transition: color .4s ease; }

.back-link { display: inline-block; margin: 20px; color: #111; text-decoration: none; font-weight: 600; transition: color .3s, opacity .3s; }
.back-link:hover { opacity: 0.7; color: #ff9a9e; }

/* ===== NIGHT MODE ===== */
body.night { background: #0d0d0d; color: #f2f2f2; transition: background .4s,color .4s; }
body.night header { background: #121212; border-bottom: 1px solid #222; }
body.night footer { background: #141414; color: #eee; }
body.night nav ul li a { color: #ffb6c1; }
body.night .video-wrapper { background: rgba(30,30,30,0.9); color: #f2f2f2; }
body.night .video-wrapper h3 { color: #ffb6c1; }
body.night .back-link { color: #ffb6c1; }
body.night .custom-video-controls { background: rgba(35,35,35,0.9); }
body.night .time-display { color: #f2f2f2; }

/* ===== CHATBOT ===== */
.chatbot { position: fixed; bottom: 25px; right: 25px; width: 320px; height: 420px; background: rgba(255,255,255,0.95); border-radius: 15px; box-shadow: 0 5px 25px rgba(0,0,0,0.2); display: none; flex-direction: column; overflow: hidden; z-index: 9999; animation: fadeIn .4s ease forwards; }
.chatbot-header { display: flex; align-items: center; gap: 10px; background: linear-gradient(90deg,#ff9a9e,#fad0c4); padding: 10px; color: #222; font-weight: 600; }
.chatbot-header img { width: 32px; height: 32px; border-radius: 50%; }
.chatbox { flex: 1; display: flex; flex-direction: column; padding: 10px; background: #fff; }
.chat-messages { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
.msg { padding: 8px 12px; border-radius: 10px; max-width: 80%; word-wrap: break-word; font-size: .9rem; }
.msg.ai { align-self: flex-start; background: #f1f1f1; color: #333; }
.msg.user { align-self: flex-end; background: #b3e5fc; color: #111; }
.chat-input { display: flex; gap: 8px; margin-top: 6px; }
.chat-input input { flex: 1; border: 1px solid #ddd; border-radius: 8px; padding: 8px; font-size: .9rem; }
.chat-input button { background: linear-gradient(90deg,#ff9a9e,#fad0c4); border: none; border-radius: 8px; padding: 8px 12px; font-weight: 700; cursor: pointer; color: #111; }

/* === NIGHT MODE FIX === */
body.night .chatbot { background: #1a1a1a !important; }
body.night .chatbot-header { background: linear-gradient(90deg,#ffb6c1,#ff9a9e); color: #111; }
body.night .chatbox { background: #1a1a1a !important; }
body.night .msg.ai { background: #333; color: #fff; }
body.night .msg.user { background: #ff9a9e; color: #111; }
body.night .chat-input input { background: #2a2a2a; border: 1px solid #444; color: #eee; }
body.night .chat-input button { background: #ff9a9e; color: #111; }

/* ===== DEV MENU ===== */
.dev-menu { position: fixed; top: 70px; left: 20px; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.15); padding: 10px; display: none; flex-direction: column; gap: 8px; z-index: 2000; }
.dev-menu button { background: linear-gradient(90deg,#ffb6c1,#b3e5fc); border: none; border-radius: 8px; color: #333; font-weight: 600; padding: 8px 12px; cursor: pointer; transition: transform .15s, background .2s; }
.dev-menu button:hover { transform: scale(1.05); background: linear-gradient(90deg,#fad0c4,#b3e5fc); }

/* ===== POPUP ===== */
.activation-popup { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: #333; color: #fff; padding: 12px 22px; border-radius: 30px; font-weight: 600; opacity: 0; transition: opacity .4s ease; z-index: 3000; }
.activation-popup.show { opacity: 1; }

@media(max-width:768px){.video-grid{grid-template-columns:1fr;}}
  </style>
</head>
<body>

<header>
  <div class="logo"><img src="logo/parzival-high-resolution-logo-transparent.png" alt="Logo" class="site-logo"></div>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="gallery.html" class="active">Gallery</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

<main>
  <div class="video-container">
    <a href="gallery.html" class="back-link">‚Üê Back to Gallery</a>
    <div class="video-grid">
      <div class="video-wrapper">
        <h3>Intro Video 1</h3>
        <video class="video-player" id="video1">
          <source src="videos/intro-video-1.mp4" type="video/mp4" />
        </video>
        <div class="custom-video-controls">
          <button class="play-pause-btn" onclick="togglePlay('video1')">Play</button>
          <span class="time-display" id="time1">0:00 / 0:00</span>
        </div>
      </div>

      <div class="video-wrapper">
        <h3>Intro Video 2</h3>
        <video class="video-player" id="video2">
          <source src="videos/intro-video-2.mp4" type="video/mp4" />
        </video>
        <div class="custom-video-controls">
          <button class="play-pause-btn" onclick="togglePlay('video2')">Play</button>
          <span class="time-display" id="time2">0:00 / 0:00</span>
        </div>
      </div>
    </div>
  </div>
</main>

<footer><p>¬© Parzival ‚Äî All Rights Reserved.</p></footer>

<!-- DEV MENU -->
<div class="dev-menu" id="devMenu">
  <button id="toggleNight">üåô Night Mode</button>
  <button id="toggleChat">üí¨ AI Chatbot</button>
</div>

<!-- CHATBOT -->
<div class="chatbot" id="chatbot">
  <div class="chatbot-header">
    <img src="img/Airi_default.png" alt="Airi">
    <span>Airi-chan</span>
  </div>
  <div class="chatbox">
    <div class="chat-messages" id="chatMessages">
      <div class="msg ai">Hai~ aku Airi! Mau jalan-jalan ke mana?</div>
    </div>
    <div class="chat-input">
      <input type="text" id="userInput" placeholder="Tulis sesuatu (misal: pergi ke gallery)">
      <button id="sendBtn">Send</button>
    </div>
  </div>
</div>

<div class="activation-popup" id="activationPopup">Developer Mode Activated!</div>

<script>
const logo=document.querySelector('.site-logo');
const devMenu=document.getElementById('devMenu');
const chatbot=document.getElementById('chatbot');
const popup=document.getElementById('activationPopup');
const body=document.body;
let clicks=0;
let devMode=sessionStorage.getItem('devMode')==='true';
let nightMode=sessionStorage.getItem('nightMode')==='true';
let chatEnabled=sessionStorage.getItem('chatEnabled')==='true';
if(devMode)initDev();

logo.addEventListener('click',()=>{
  if(devMode){devMenu.style.display=devMenu.style.display==='flex'?'none':'flex';return;}
  clicks++;if(clicks>=5)activateDev();
});

function activateDev(){
  devMode=true;sessionStorage.setItem('devMode','true');
  popup.classList.add('show');
  setTimeout(()=>popup.classList.remove('show'),2000);
  initDev();
}
function initDev(){
  devMenu.style.display='none';
  if(nightMode)body.classList.add('night');
  if(chatEnabled)chatbot.style.display='flex';
}
document.getElementById('toggleNight').onclick=()=>{
  body.classList.toggle('night');
  nightMode=body.classList.contains('night');
  sessionStorage.setItem('nightMode',nightMode);
};
document.getElementById('toggleChat').onclick=()=>{
  const show=chatbot.style.display==='none'||chatbot.style.display==='';chatbot.style.display=show?'flex':'none';
  chatEnabled=show;sessionStorage.setItem('chatEnabled',chatEnabled);
};

/* === Chatbot === */
const sendBtn=document.getElementById('sendBtn');
const input=document.getElementById('userInput');
const chatBox=document.getElementById('chatMessages');
function appendMsg(text,who){
  const div=document.createElement('div');
  div.className='msg '+who;
  div.textContent=text;
  chatBox.appendChild(div);
  chatBox.scrollTop=chatBox.scrollHeight;
}
function handleSend(){
  const text=input.value.trim();
  if(!text)return;
  appendMsg(text,'user');
  input.value='';
  setTimeout(()=>processInput(text.toLowerCase()),400);
}
function processInput(txt){
  const map={
    'home':['home','index','beranda'],
    'about':['about','tentang'],
    'gallery':['gallery','galeri','portofolio'],
    'contact':['contact','kontak'],
    'games':['games','game'],
    'journey':['journey','perjalanan'],
    'intro-youtube':['intro','youtube']
  };
  let found=null;
  for(const key in map){if(map[key].some(k=>txt.includes(k))){found=key;break;}}
  if(found){
    appendMsg('Oke~ aku antar ke halaman '+found+'!','ai');
    setTimeout(()=>window.location.href=found+'.html',1000);
  }else{
    appendMsg('Hmm... aku gak nemu halaman itu >< coba kata lain, misalnya "about" atau "gallery".','ai');
  }
}
sendBtn.onclick=handleSend;
input.addEventListener('keydown',e=>{if(e.key==='Enter')handleSend();});

/* === Video Control === */
function formatTime(sec){const m=Math.floor(sec/60);sec=Math.floor(sec%60);return `${m}:${sec.toString().padStart(2,'0')}`;}
function updateTimeDisplay(videoId){
  const v=document.getElementById(videoId);
  const t=document.getElementById('time'+videoId.slice(-1));
  const c=formatTime(v.currentTime);
  const d=formatTime(v.duration||0);
  t.textContent=`${c} / ${d}`;
}
function togglePlay(videoId){
  const v=document.getElementById(videoId);
  const btn=v.parentElement.querySelector('.play-pause-btn');
  if(v.paused){v.play();btn.textContent='Pause';}else{v.pause();btn.textContent='Play';}
}
['video1','video2'].forEach(id=>{
  const v=document.getElementById(id);
  v.addEventListener('timeupdate',()=>updateTimeDisplay(id));
  v.addEventListener('loadedmetadata',()=>updateTimeDisplay(id));
  v.addEventListener('ended',()=>v.parentElement.querySelector('.play-pause-btn').textContent='Play');
});
</script>
</body>
</html>
