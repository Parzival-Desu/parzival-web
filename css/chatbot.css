/* chatbot.css - Airi chat widget + dev modal + night mode styles */

/* ========== Night mode helper ========= */
body.a-night {
  background-color: #0b0b0f !important;
  color: #dfe7ef !important;
  transition: background-color .25s ease, color .25s ease;
}

/* you can expand this class in your main CSS to override header/footer etc:
   e.g. header.a-night { background: #05050a; } or use body.a-night header {...}
*/

/* ========== Dev options popup (small) ========== */
#devOptionsToggle {
  position: fixed;
  right: 18px;
  top: 18px;
  z-index: 9999;
  display: none; /* only shown after unlock when user opens modal via logo click */
}

#devModal {
  position: fixed;
  right: 18px;
  top: 60px;
  width: 260px;
  background: linear-gradient(180deg,#fff,#fbfbff);
  color: #222;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.16);
  padding: 14px;
  z-index: 10000;
  font-family: "Poppins", sans-serif;
  display: none;
}
#devModal h4 { margin: 0 0 8px 0; font-size: 14px; color:#333;}
.dev-row { display:flex;align-items:center;justify-content:space-between;padding:8px 0; }
.dev-row label{font-size:13px;color:#333;}

/* ========== Chat widget ========== */
#aichat-root {
  position: fixed;
  right: 22px;
  bottom: 22px;
  width: 340px;
  max-width: calc(100% - 48px);
  z-index: 10000;
  font-family: "Poppins", sans-serif;
  display: none; /* shown only if enabled and not excluded page */
}

.aichat-panel {
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
  background: linear-gradient(180deg,#fff,#fbfbff);
  display: flex;
  flex-direction: column;
  width: 100%;
}

/* header */
.aichat-head {
  display:flex;align-items:center;gap:10px;padding:10px 12px;background:linear-gradient(90deg,#ff9a9e,#fad0c4);
}
.aichat-head .avatar {
  width:44px;height:44px;border-radius:10px;flex:0 0 44px;overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,0.12);
}
.aichat-head .avatar img{width:100%;height:100%;object-fit:cover;display:block}
.aichat-head .title { font-weight:700; font-size:14px; color:#222; }
.aichat-head .mini { font-size:12px; color:#222; opacity:0.85 }

/* conversation area */
.aichat-body {
  padding:12px;
  height: 260px;
  overflow: auto;
  background: linear-gradient(180deg,#fbfbff,#fff);
  display:flex;flex-direction:column;gap:10px;
}

/* bubbles */
.aichat-msg { max-width:85%; padding:10px 12px;border-radius:12px; font-size:14px; line-height:1.35; box-shadow:0 4px 12px rgba(0,0,0,0.06); }
.aichat-msg.ai { align-self:flex-start; background: #fff; color:#222; border:1px solid #f0f0f4;}
.aichat-msg.user { align-self:flex-end; background: linear-gradient(90deg,#ffb6c1,#b3e5fc); color:#071427; font-weight:600; }

/* typing indicator */
.typing {
  display:flex;gap:6px;align-items:center;padding:8px 10px;border-radius:10px;
  background: #fff;border:1px solid #f0f0f4;width:fit-content;
}
.typing .dot { width:6px;height:6px;border-radius:50%;background:#ccc;opacity:0.9; animation:dot 1s infinite;}
.typing .dot:nth-child(2){ animation-delay:.12s } .typing .dot:nth-child(3){ animation-delay:.24s }
@keyframes dot { 0%{transform:translateY(0);opacity:.4}50%{transform:translateY(-4px);opacity:1}100%{transform:translateY(0);opacity:.4} }

/* input area */
.aichat-inputWrap { display:flex; gap:8px; padding:10px; background:#fff; border-top:1px solid #f2f2f6; }
.aichat-input {
  flex:1; padding:10px 12px; border-radius:10px; border:1px solid #eee; outline:none; font-size:14px;
}
.aichat-send {
  background:linear-gradient(90deg,#ff9a9e,#fad0c4);border:none;padding:10px 12px;border-radius:10px;font-weight:700;cursor:pointer;
}

/* small open/close button (minimized) */
.aichat-toggleBtn {
  position: fixed;
  right: 22px;
  bottom: 22px;
  width:56px;height:56px;border-radius:12px;
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(90deg,#ff9a9e,#fad0c4);color:#111;font-weight:800;font-size:18px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
  z-index:10000;
  cursor:pointer;
  transition:transform .12s;
}
.aichat-toggleBtn.min { width:48px;height:48px;border-radius:50%; }

/* hidden */
.hidden { display:none !important; }

/* responsive small screen tweaks */
@media (max-width:520px){
  #aichat-root{ right:12px; left:12px; width:auto; bottom:12px; }
  .aichat-body { height: 220px; }
}
